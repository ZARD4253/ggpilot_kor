name: Run main.py and Upload Result

on:
  workflow_dispatch:   # ìˆ˜ë™ ì‹¤í–‰

jobs:
  run-script:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
        uses: actions/checkout@v4   # â­ v4ë¡œ ì—…ë°ì´íŠ¸ ê¶Œì¥ (í•„ìˆ˜ëŠ” ì•„ë‹˜)

      - name: Python ì„¤ì •
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      - name: ì˜ì¡´ì„± ì„¤ì¹˜
        run: |
          pip install --upgrade pip
          pip install -r requirements.txt  # requirements.txtê°€ ìˆë‹¤ë©´

      - name: main.py ì‹¤í–‰
        run: python main.py

      - name: ìƒì„±ëœ íŒŒì¼ ì•„í‹°íŒ©íŠ¸ë¡œ ì—…ë¡œë“œ
        # âœ… v3 â†’ v4ë¡œ ë³€ê²½! âœ…
        uses: actions/upload-artifact@v4   # ğŸ‘ˆ ì´ ì¤„ë§Œ ìˆ˜ì •!
        with:
          name: generated-files
          path: output.txt   # ìƒì„±ëœ íŒŒì¼ ê²½ë¡œ
